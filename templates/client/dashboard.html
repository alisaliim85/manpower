{% extends "layout/index.html" %}
{% block title %}Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø´Ø±ÙƒØ© Ø§Ù„Ø¹Ù…ÙŠÙ„ | Ù…ÙˆØ§Ø±Ø¯ÙŠ{% endblock %}

{% block content %}
<section class="dashboard-wrapper container">

    <div class="db-header animate__animated animate__fadeIn">
        <div class="welcome-text">
            <div class="user-avatar">
                <i class="fas fa-user-tie"></i>
            </div>
            <div>
                <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ {{ request.user.get_full_name|default:request.user.username }} <span class="wave">ğŸ‘‹</span></h1>
                <p>Ø¥Ù„ÙŠÙƒ Ù…Ù„Ø®Øµ Ù†Ø´Ø§Ø· Ø´Ø±ÙƒØ© <span class="company-tag">{{ request.user.company.name }}</span> Ù„Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ….</p>
            </div>
        </div>

        <div class="header-actions">
            <a href="/requests/new/" class="btn-action pulse-animation">
                <i class="fas fa-plus-circle"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
            </a>
        </div>
    </div>

    <div class="stats-grid">
        <div class="stat-item animate__animated animate__fadeInUp" style="animation-delay: 0.1s;">
            <div class="stat-icon purple"><i class="fas fa-folder-open"></i></div>
            <div class="stat-info">
                <span class="label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</span>
                <span class="count">12</span>
            </div>
            <div class="stat-progress"><div class="bar" style="width: 100%"></div></div>
        </div>

        <div class="stat-item animate__animated animate__fadeInUp" style="animation-delay: 0.2s;">
            <div class="stat-icon orange"><i class="fas fa-spinner fa-spin"></i></div>
            <div class="stat-info">
                <span class="label">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</span>
                <span class="count">5</span>
            </div>
            <div class="stat-progress"><div class="bar" style="width: 40%"></div></div>
        </div>

        <div class="stat-item animate__animated animate__fadeInUp" style="animation-delay: 0.3s;">
            <div class="stat-icon green"><i class="fas fa-check-double"></i></div>
            <div class="stat-info">
                <span class="label">Ø·Ù„Ø¨Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©</span>
                <span class="count">7</span>
            </div>
            <div class="stat-progress"><div class="bar" style="width: 60%"></div></div>
        </div>
    </div>

    <div class="data-card animate__animated animate__fadeInUp" style="animation-delay: 0.4s;">
        <div class="card-header">
            <h3><i class="fas fa-history"></i> Ø¢Ø®Ø± Ø§Ù„ØªØ­Ø±ÙƒØ§Øª</h3>
            <button class="btn-view-all">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</button>
        </div>

        <div class="table-responsive">
            <table class="modern-table">
                <thead>
                    <tr>
                        <th>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</th>
                        <th>Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨</th>
                        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                        <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                        <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="id-cell">#1023</td>
                        <td class="type-cell"><i class="fas fa-calendar-alt"></i> Ø¥Ø¬Ø§Ø²Ø©</td>
                        <td><span class="badge pending-light"><i class="fas fa-clock"></i> Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</span></td>
                        <td class="date-cell">2026-01-12</td>
                        <td><button class="btn-table"><i class="fas fa-eye"></i></button></td>
                    </tr>
                    <tr>
                        <td class="id-cell">#1022</td>
                        <td class="type-cell"><i class="fas fa-hand-holding-medkit"></i> ØªØ£Ù…ÙŠÙ† Ø·Ø¨ÙŠ</td>
                        <td><span class="badge approved-light"><i class="fas fa-check-circle"></i> Ù…ÙƒØªÙ…Ù„</span></td>
                        <td class="date-cell">2026-01-10</td>
                        <td><button class="btn-table"><i class="fas fa-eye"></i></button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</section>

<style>
    /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© */
    .dashboard-wrapper {
        padding: 40px 0;
    }

    /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
    .db-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 40px;
    }
    .welcome-text { display: flex; align-items: center; gap: 20px; }
    .user-avatar {
        width: 60px; height: 60px;
        background: var(--primary);
        color: white;
        border-radius: 15px;
        display: flex; align-items: center; justify-content: center;
        font-size: 24px;
        box-shadow: 0 10px 20px rgba(16, 185, 129, 0.2);
    }
    .db-header h1 { font-size: 26px; font-weight: 800; margin: 0; color: var(--dark); }
    .company-tag { color: var(--primary); text-decoration: underline; }

    /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
    .btn-action {
        background: var(--dark);
        color: white;
        padding: 12px 25px;
        border-radius: 12px;
        text-decoration: none;
        font-weight: bold;
        display: flex; align-items: center; gap: 10px;
        transition: 0.3s;
    }
    .btn-action:hover { background: var(--primary-dark); transform: scale(1.05); }

    /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø·ÙˆØ±Ø© */
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 25px;
        margin-bottom: 40px;
    }
    .stat-item {
        background: white;
        padding: 25px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.03);
        position: relative;
        overflow: hidden;
    }
    .stat-icon {
        width: 50px; height: 50px;
        border-radius: 12px;
        display: flex; align-items: center; justify-content: center;
        font-size: 20px; margin-bottom: 15px;
    }
    .purple { background: #f5f3ff; color: #7c3aed; }
    .orange { background: #fff7ed; color: #ea580c; }
    .green { background: #f0fdf4; color: #16a34a; }

    .stat-info .label { display: block; color: #64748b; font-size: 14px; margin-bottom: 5px; }
    .stat-info .count { font-size: 30px; font-weight: 800; color: var(--dark); }
    
    .stat-progress { height: 6px; background: #f1f5f9; border-radius: 10px; margin-top: 15px; }
    .stat-progress .bar { height: 100%; border-radius: 10px; background: var(--primary); }

    /* Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø­Ø¯ÙŠØ«Ø© */
    .data-card {
        background: white;
        border-radius: 24px;
        padding: 30px;
        box-shadow: 0 10px 40px rgba(0,0,0,0.02);
    }
    .card-header { display: flex; justify-content: space-between; margin-bottom: 25px; align-items: center; }
    .btn-view-all { background: none; border: 1px solid #e2e8f0; padding: 5px 15px; border-radius: 8px; cursor: pointer; }

    .modern-table { width: 100%; border-collapse: separate; border-spacing: 0 10px; }
    .modern-table th { padding: 15px; text-align: right; color: #94a3b8; font-weight: 600; }
    .modern-table td { padding: 20px 15px; background: #f8fafc; border: none; }
    .modern-table tr td:first-child { border-radius: 0 12px 12px 0; }
    .modern-table tr td:last-child { border-radius: 12px 0 0 12px; }

    .id-cell { font-weight: bold; color: var(--primary-dark); }
    .type-cell i { margin-left: 8px; color: #64748b; }

    /* Ø§Ù„Ø¨Ø§Ø¯Ø¬Ø§Øª (Badges) */
    .badge { padding: 6px 12px; border-radius: 8px; font-size: 12px; font-weight: bold; display: flex; align-items: center; gap: 5px; width: fit-content; }
    .pending-light { background: #fef3c7; color: #92400e; }
    .approved-light { background: #dcfce7; color: #15803d; }

    .btn-table { background: white; border: 1px solid #e2e8f0; width: 35px; height: 35px; border-radius: 8px; cursor: pointer; transition: 0.3s; }
    .btn-table:hover { background: var(--primary); color: white; border-color: var(--primary); }

    /* Ø­Ø±ÙƒØ§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
    .wave { display: inline-block; animation: wave-animation 2.5s infinite; transform-origin: 70% 70%; }
    @keyframes wave-animation {
        0% { transform: rotate(0deg); } 10% { transform: rotate(14deg); } 20% { transform: rotate(-8deg); } 30% { transform: rotate(14deg); } 100% { transform: rotate(0deg); }
    }

    .pulse-animation { animation: pulse 2s infinite; }
    @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); }
        70% { box-shadow: 0 0 0 15px rgba(16, 185, 129, 0); }
        100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
    }

    @media (max-width: 768px) {
        .db-header { flex-direction: column; text-align: center; }
        .welcome-text { flex-direction: column; }
    }
</style>
{% endblock %}