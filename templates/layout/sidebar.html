<button class="sidebar-toggle-btn open-btn" id="openSidebar" title="فتح القائمة">
    <i class="fas fa-bars"></i>
</button>

<aside class="sidebar-mini" id="sidebar">
    <div class="sidebar-header">
        <span class="sidebar-title">لوحة التحكم</span>
        <button class="close-sidebar" id="closeSidebar" title="إغلاق القائمة">
            <i class="fas fa-times"></i>
        </button>
    </div>
    
    <div class="sidebar-content">
        <a href="/" class="sidebar-item active">
            <div class="icon-box">
                <i class="fas fa-home"></i>
            </div>
            <span class="link-label">الرئيسية</span>
        </a>
    {%  if user.company and user.company.company_type == 'client'    %}
        <a href="{% url 'vendors:vendor_list' %}" class="sidebar-item">
            <div class="icon-box">
                <i class="fas fa-building"></i>
            </div>
            <span class="link-label">الشركات</span>
        </a>
        {% endif %}

        <a href="{% url 'requests:list' %}" class="sidebar-item">
            <div class="icon-box">
                <i class="fas fa-clipboard-list"></i>
            </div>
            <span class="link-label">الطلبات</span>
        </a>

        <a href="#" class="sidebar-item">
            <div class="icon-box">
                <i class="fas fa-users"></i>
            </div>
            <span class="link-label">العمالة</span>
        </a>

        <a href="#" class="sidebar-item">
            <div class="icon-box">
                <i class="fas fa-chart-line"></i>
            </div>
            <span class="link-label">التقارير</span>
        </a>
        
        <div class="sidebar-separator"></div>

        <a href="#" class="sidebar-item">
            <div class="icon-box">
                <i class="fas fa-user-gear"></i>
            </div>
            <span class="link-label">الإعدادات</span>
        </a>
    </div>
</aside>

<style>
    /* 1. هيكل السايد بار العائم */
    .sidebar-mini {
        position: fixed;
        right: 20px;       /* مسافة من اليمين لجعله عائماً */
        top: 100px;        /* مسافة من الأعلى أسفل الهيدر */
        bottom: 30px;      /* مسافة من الأسفل */
        width: 180px;      /* عرض مناسب للأيقونة والنص */
        background: #ffffff;
        box-shadow: 0 10px 40px rgba(0,0,0,0.06);
        display: flex;
        flex-direction: column;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 1100;
        border-radius: 25px; /* زوايا دائرية كبيرة وجذابة */
        border: 1px solid rgba(0,0,0,0.02);
        overflow: hidden;
    }

    /* تأثير الإغلاق (يختفي لليمين) */
    .sidebar-is-closed .sidebar-mini {
        transform: translateX(calc(100% + 30px));
        opacity: 0;
        pointer-events: none;
    }

    /* 2. الهيدر (العنوان + زر الإغلاق) */
    .sidebar-header {
        padding: 20px 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #f1f5f9;
    }

    .sidebar-title {
        font-size: 13px;
        font-weight: 800;
        color: #1e293b;
        letter-spacing: 0.5px;
    }

    .close-sidebar {
        background: #f8fafc;
        border: none;
        color: #94a3b8;
        width: 28px;
        height: 28px;
        border-radius: 8px;
        cursor: pointer;
        transition: 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .close-sidebar:hover {
        background: #fee2e2;
        color: #ef4444;
    }

    /* 3. تنسيق الروابط (أيقونة + نص) */
    .sidebar-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        padding: 15px 12px;
        gap: 10px;
    }

    .sidebar-item {
        display: flex;
        align-items: center;
        padding: 10px 12px;
        color: #64748b;
        text-decoration: none;
        border-radius: 15px;
        transition: all 0.3s ease;
    }

    /* صندوق الأيقونة */
    .icon-box {
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        transition: 0.3s;
    }

    /* نص الرابط */
    .link-label {
        margin-right: 12px; /* مسافة من الأيقونة لجهة اليمين (RTL) */
        font-size: 14px;
        font-weight: 500;
        white-space: nowrap;
    }

    /* تأثيرات المرور (Hover) */
    .sidebar-item:hover {
        background: #f8fafc;
        color: var(--primary);
    }

    .sidebar-item:hover .icon-box {
        transform: scale(1.1);
    }

    /* العنصر النشط (Active) */
    .sidebar-item.active {
        background: var(--primary); /* يستخدم اللون الأخضر الخاص بك */
        color: #ffffff;
        box-shadow: 0 8px 15px rgba(16, 185, 129, 0.2);
    }

    .sidebar-separator {
        height: 1px;
        background: #f1f5f9;
        margin: 10px 8px;
    }

    /* 4. زر الفتح العائم */
    .sidebar-toggle-btn.open-btn {
        position: fixed;
        right: 30px;
        top: 100px;
        z-index: 1050;
        background: var(--primary);
        color: white;
        border: none;
        width: 48px;
        height: 48px;
        border-radius: 15px;
        cursor: pointer;
        box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3);
        display: none; /* مخفي افتراضياً */
        align-items: center;
        justify-content: center;
        transition: 0.3s ease;
    }

    .sidebar-is-closed .sidebar-toggle-btn.open-btn {
        display: flex;
        animation: slideIn 0.4s ease forwards;
    }

    @keyframes slideIn {
        from { opacity: 0; transform: translateX(30px); }
        to { opacity: 1; transform: translateX(0); }
    }

    /* دعم الشاشات الصغيرة */
    @media (max-width: 768px) {
        .sidebar-mini {
            width: 150px;
            right: 10px;
        }
    }
</style>